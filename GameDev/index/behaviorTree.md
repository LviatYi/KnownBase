# 行为树 Behavior Tree——树形行为控制器

## 行为树与有限状态自动机

**行为树** (**BT**,Behavior Tree) 是一种控制 AI 实体决策流程的分层结点树，通过结点完成流程控制与行为表现。

用于 Ai 行为编程的还有其他方法，其中 **有限状态自动机** (**FSM**,finite state machine) 就极为常用。FSM 拥有有限数量的状态，状态之间在某种条件下允许切换。

与 FSM 相比，BT 具有相当大的优越性：

- **扩展性**  
  FSM 的状态之间处于强耦合的关系。每当添加一个新的状态，就需要考虑其与所有现存状态的联系，并定义转换条件。
- **复用性**  
  FSM 是难以复用的，而在 BT 中，转换条件、行为作为结点或子树都是可复用的。
- **维护性**  
  由于强耦合性，对 FSM 状态的修改牵扯其他状态。而 BT 的树形结构决定了修改被限定在了某个子树的范围内。
